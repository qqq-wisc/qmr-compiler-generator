ProblemDefinition { imp: ImplBlock { routed_gates: [CX], data: NamedTuple { name: "GateRealization", fields: [("u", LocationTy), ("v", LocationTy)] }, realize: ITE { cond: CallMethod { d: Arch, method: "contains_edge", args: [Tuple([MapAccess(GetData { d: Gate, access: Access("qubits", ArrayAccess(IndexLiteral(0), Nil)) }), MapAccess(GetData { d: Gate, access: Access("qubits", ArrayAccess(IndexLiteral(1), Nil)) })])] }, then: CallFunction { func: "Some", args: [ImplConstructorExpr([("u", MapAccess(GetData { d: Gate, access: Access("qubits", ArrayAccess(IndexLiteral(0), Nil)) })), ("v", MapAccess(GetData { d: Gate, access: Access("qubits", ArrayAccess(IndexLiteral(1), Nil)) }))])] }, els: NoneExpr } }, trans: TransitionBlock { data: NamedTuple { name: "Transition", fields: [("edge", TupleTy([LocationTy, LocationTy]))] }, apply: SwapPair(GetData { d: Transition, access: Access("edge", TupleAccess(IndexLiteral(0), Nil)) }, GetData { d: Transition, access: Access("edge", TupleAccess(IndexLiteral(1), Nil)) }), cost: ITE { cond: BinOp(Equals, Tuple([GetData { d: Transition, access: Access("edge", Nil) }]), Tuple([LocationLiteral(0), LocationLiteral(0)])), then: FloatLiteral(0.0), els: GetData { d: Arch, access: Access("succ_rates", ArrayAccess(GetData { d: Transition, access: Access("edge", TupleAccess(IndexLiteral(0), Nil)) }, ArrayAccess(GetData { d: Transition, access: Access("edge", TupleAccess(IndexLiteral(1), Nil)) }, Nil))) } }, get_transitions: Append { vec: MapIterExpr { container: CallMethod { d: Arch, method: "edges", args: [] }, bound_var: "x", func: TransitionConstructor([("edge", Ident("x"))]) }, elem: TransitionConstructor([("edge", Tuple([LocationLiteral(0), LocationLiteral(0)]))]) } }, arch: Some(ArchitectureBlock { data: NamedTuple { name: "Arch", fields: [("succ_rates", VectorTy(VectorTy(FloatTy)))] }, get_locations: None }), step: Some(StepBlock { cost: FoldExpr { container: MapIterExpr { container: CallMethod { d: Step, method: "gates", args: [] }, bound_var: "x", func: GetData { d: Arch, access: Access("succ_rates", ArrayAccess(GetAnonData { ident: "x", access: Access("qubits", ArrayAccess(IndexLiteral(0), Nil)) }, ArrayAccess(GetAnonData { ident: "x", access: Access("qubits", ArrayAccess(IndexLiteral(1), Nil)) }, Nil))) } }, init: FloatLiteral(0.0), func: BinOp(Plus, Ident("acc"), Ident("x")) } }) }